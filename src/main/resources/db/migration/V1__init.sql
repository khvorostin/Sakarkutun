CREATE TABLE products (
    id bigserial PRIMARY KEY,
    title varchar(255),
    price int
);

INSERT INTO products (title, price) VALUES
    ('Абрикосы в сиропе M.R.S (880 г)', 520),
    ('Абрикосы половинками в сиропе M.R.S (820 г)', 503),
    ('Абрикосы половинками в сиропе Rean (850 г)', 698),
    ('Аджапсандал Kerakur (980 г)', 517),
    ('Аджика Kerakur (500 г)', 641),
    ('Аджика Арцах (330 г)', 327),
    ('Аджика Арцах (485 г)', 539),
    ('Аджика домашняя Славянский дар (480 г)', 517),
    ('Аджика домашняя Славянский дар (480 г)', 559),
    ('Аджика кавказская Славянский дар (170 г)', 662),
    ('Аджика Клюква-груша/Славянский дар (170 г)', 650),
    ('Аджика острая Kerakur (500 г)', 449),
    ('Аджика острая по-грузински Delex (100 г)', 549),
    ('Аджика традиционная Славянский дар (170 г)', 689),
    ('Ананас колечками в сиропе M.R.S (3 кг)', 814),
    ('Ананас консервированный (кольца) Барко (565 г)', 309),
    ('Ананас консервированный (кольца) Барко (850 г)', 564),
    ('Ананас консервированный (кольца) ХАВИАР (3 кг)', 1512),
    ('Ананас консервированный (кольца) ХАВИАР (580 г)', 428),
    ('Ананас консервированный (кольца) ХАВИАР (830 г)', 673),
    ('Ананас консервированный (кусочки) Барко (565 г)', 313),
    ('Ананас консервированный (кусочки) Барко (850 г)', 518),
    ('Ананас консервированный (кусочки) ХАВИАР (3 кг)', 1395),
    ('Ананас консервированный (кусочки) ХАВИАР (580 г)', 498),
    ('Ананас консервированный (кусочки) ХАВИАР (830 г)', 540),
    ('Ананас куски в сиропе M.R.S (3000 г)', 445),
    ('Ананас куски в сиропе M.R.S (580 г)', 689),
    ('Ананас шайбы в легком сиропе M.R.S (567 г)', 417),
    ('Ананасы кольца Rean (580 г)', 539),
    ('Ананасы кольца Rean (850 г)', 579),
    ('Ананасы кусочки Rean (580 г)', 467),
    ('Ананасы кусочки Rean (850 г)', 516),
    ('Антарктик-криль паста классический Санта Бремор (150 г)', 362),
    ('Антарктик-криль паста подкопченный Санта Бремор (150 г)', 574),
    ('Антарктик-криль паста с яйцом Санта Бремор (150 г)', 358),
    ('Антарктик-криль паста сливочно-чесночный Санта Бремор (150 г)', 468),
    ('Анчоус европейский неразделанный обжаренный в томатном соусе ХАВИАР (240 г)', 472),
    ('Аппетит (лечо) Kibaro (730 г)', 571),
    ('Ассорти из томатов и огурцов Rean (720 г)', 634),
    ('Ассорти из томатов и огурцов Кубаночка (1.5 кг)', 1505),
    ('Ассорти из томатов и огурцов Кубаночка (720 г)', 700),
    ('Баклажаны жареные Kerakur (480 г)', 328),
    ('Баклажаны жареные Арцах (485 г)', 471),
    ('Баклажаны жареные в аджике Kerakur (480 г)', 641),
    ('Баклажаны жареные, в томатном соусе Kerakur (480 г)', 629),
    ('Бамия маринованная Artsakh Food (580 г)', 605),
    ('Бамия маринованная Kerakur (500 г)', 595),
    ('Бамия маринованная Арцах (580 г)', 542),
    ('Бантики (Farfalle) Borges (500 г)', 632),
    ('Баранина тушеная Войсковой Спецрезерв (525 г)', 306),
    ('Баранина тушеная Охота (325 г)', 572),
    ('Баранина тушеная Совок (325 г)', 541),
    ('Белуга натуральная (премиум) в собственном соку Royal Product (240 г)', 327),
    ('Белуга натуральная в собственном соку Royal Product (240 г)', 455),
    ('Белуга обжаренная с помидорами черри Royal Product (240 г)', 359),
    ('Борщ со свежей капустой 5 морей (470 г)', 526),
    ('Борщ со свежей капустой Rean (500 г)', 485),
    ('Борщ со свежей капустой Обилие (500 г)', 525),
    ('Бутен (шушан) маринованный Kerakur (650 г)', 699),
    ('Бутен (шушан) маринованный Арцах (470 г)', 632),
    ('Бутен (шушан) маринованный Арцах (720 г)', 678),
    ('Бычки в томатном соусе ХАВИАР (240 г)', 682),
    ('Бычки обжаренные в томатном соусе Морская Радуга (240 г)', 575),
    ('Бычки разделенные обжаренные в томатном соусе 5 морей (240 г)', 303),
    ('Бычки разделенные обжаренные в томатном соусе 5 морей (240 г)', 349),
    ('Варенье из абрикосов Арцах (370 г)', 619),
    ('Варенье из абрикосов Куракур (260 г)', 574),
    ('Варенье из абрикосов Куракур (380 г)', 348),
    ('Варенье из абрикосов Куракур (610 г)', 625),
    ('Варенье из айвы Kerakur (260 г)', 423),
    ('Варенье из айвы Kerakur (380 г)', 317),
    ('Варенье из айвы Kerakur (610 г)', 579),
    ('Варенье из айвы Арцах (370 г)', 601),
    ('Варенье из белой черешни Kerakur (380 г)', 469),
    ('Варенье из винограда Арцах (370 г)', 618),
    ('Варенье из вишни Арцах (370 г)', 503),
    ('Варенье из вишни Куракур (260 г)', 306),
    ('Варенье из вишни Куракур (370 г)', 634),
    ('Варенье из вишни Куракур (380 г)', 536),
    ('Варенье из грецких орехов Kerakur (380 г)', 678),
    ('Варенье из грецких орехов Арцах (370 г)', 561),
    ('Варенье из ежевики Kerakur (380 г)', 452),
    ('Варенье из ежевики Kerakur (380 г)', 575),
    ('Варенье из ежевики Kibaro (370 г)', 522),
    ('Варенье из инжира Kerakur (380 г)', 309),
    ('Варенье из инжира Kerakur (610 г)', 305),
    ('Варенье из инжира Арцах (440 г)', 409),
    ('Варенье из кизила Kerakur (380 г)', 393),
    ('Варенье из кизила Kerakur (610 г)', 541),
    ('Варенье из кизила Kibaro (370 г)', 523),
    ('Варенье из клубники Kerakur (380 г)', 656),
    ('Варенье из клубники Kerakur (610 г)', 687),
    ('Варенье из клубники Kibaro (430 г)', 429),
    ('Варенье из клубники Арцах (370 г)', 534),
    ('Варенье из лепестков роз Kerakur (380 г)', 328),
    ('Варенье из лепестков роз Арцах (370 г)', 489),
    ('Варенье из лепестков роз Куракур (450 г)', 623),
    ('Варенье из малины Kerakur (380 г)', 506),
    ('Варенье из малины Kibaro (370 г)', 439),
    ('Варенье из малины Куракур (610 г)', 428);

CREATE TABLE roles (
    id bigserial PRIMARY KEY,
    name varchar(50) not null
);

INSERT INTO roles (id, name) VALUES
    (1, 'ROLE_USER'),
    (2, 'ROLE_ADMIN');

CREATE TABLE users (
    id bigserial PRIMARY KEY,
    username varchar(30) not null unique,
    password varchar(100) not null,
    email varchar(100) unique
);

INSERT INTO users (id, username, password, email) VALUES
    (1, 'admin', '$2a$12$N98yw2Zl4FaiyjsfIFKRVurvc1r.2XxbhEm4V8v3/PN0xqLbq5z4W', 'admin@test.com'), -- admin/admin
    (2, 'user', '$2a$12$Ig.DRE5DEEVKMHqVL2ouwuQIUIFtiYaQsyp.R/pPgosMv5rR/QRUi', 'user@test.com'); -- user/user

CREATE TABLE users_to_roles (
    user_id bigint not null,
    role_id bigint not null,
    PRIMARY KEY (user_id, role_id),
    FOREIGN KEY (user_id) REFERENCES users (id),
    FOREIGN KEY (role_id) REFERENCES roles (id)
);

INSERT INTO users_to_roles (user_id, role_id) VALUES
    (1, 2),
    (2, 1);

CREATE TABLE rprivileges (
    id bigserial PRIMARY KEY,
    name varchar(50) not null
);

INSERT INTO rprivileges (id, name) VALUES
    (1, 'ADD_PRODUCT'),
    (2, 'EDIT_PRODUCT'),
    (3, 'DROP_PRODUCT'),
    (4, 'VIEW_CART');

CREATE TABLE roles_to_privileges (
    role_id bigint not null,
    privilege_id bigint not null,
    PRIMARY KEY (role_id, privilege_id),
    FOREIGN KEY (role_id) REFERENCES roles (id),
    FOREIGN KEY (privilege_id) REFERENCES rprivileges (id)
);

INSERT INTO roles_to_privileges (role_id, privilege_id) VALUES
    (1, 4),
    (2, 1),
    (2, 2),
    (2, 3);
